plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.7.2'
    id "org.jetbrains.kotlin.jvm" version "1.4.30"
}

group = "org.jetbrains.research.commentupdater"
version = "1.0"

repositories {
    mavenCentral()
    jcenter()
}

test {
    useJUnitPlatform()
}

dependencies {
    implementation "io.github.java-diff-utils:java-diff-utils:4.9"
    implementation 'org.junit.jupiter:junit-jupiter:5.7.0'
    implementation "io.kinference:inference:0.1.2"
    implementation "com.microsoft.onnxruntime:onnxruntime:1.7.0"
    implementation 'com.beust:klaxon:5.5'
    implementation 'com.github.tsantalis:refactoring-miner:2.1.0'

    implementation 'org.jetbrains.bio:viktor:1.1.0'

}

intellij {
    version = '2021.1'
    plugins 'java', 'git4idea'
    plugins = ['com.intellij.java']
}

buildSearchableOptions {
    enabled = false
}

tasks.runIde {
//        val dataset: String = "C:\\Users\\pavlo\\IdeaProjects\\psiminer\\src\\test\\resources\\mock_data"
//        val output: String =  "C:\\Users\\pavlo\\IdeaProjects\\psiminer\\output"
//        val config: String = "C:\\Users\\pavlo\\IdeaProjects\\psiminer\\config.json"
        runIde.args "CommentUpdater"
        runIde.jvmArgs "-Djava.awt.headless=true"
        maxHeapSize = "20g"
}
